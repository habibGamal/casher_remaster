import{r,j as s}from"./app.3aad4e87.js";import{F as c}from"./index.4d07e239.js";import{I as x}from"./index.3e4aed6b.js";const b=r.exports.createContext(null),$=({index:n,...a})=>{const[e]=c.useForm();return s(c,{form:e,component:!1,children:s(b.Provider,{value:e,children:s("tr",{...a})})})};function F({title:n,editable:a,children:e,dataIndex:t,record:l,handleSave:g,...v}){const[i,E]=r.exports.useState(!1),o=r.exports.useRef(null),d=r.exports.useContext(b);r.exports.useEffect(()=>{i&&(o.current.focus(),o.current.select())},[i]);const m=()=>{E(!i),d.setFieldsValue({[t]:l[t]})},f=async()=>{try{const u=await d.validateFields();m(),g({...l,...u})}catch(u){console.log("Save failed:",u)}};let p=e;return a&&(p=i?s(c.Item,{style:{margin:0},name:t,className:"w-24",rules:[{required:!0,message:`\u0645\u0637\u0644\u0648\u0628 ${n}`}],children:s(x,{ref:o,onPressEnter:f,onBlur:f})}):s("div",{"data-barcode":`${l.barcode}-${t}`,"data-key":`${l.key}-${t}`,className:`editable-cell-value-wrap editable-${t}`,style:{paddingRight:24},onClick:m,children:e})),s("td",{...v,children:p})}function w(n,a){return n.map(e=>e.editable?{...e,onCell:t=>({record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:a})}:e)}export{$ as E,F as a,w as m};
