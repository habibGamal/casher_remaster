import{j as u,bv as p,b2 as b,B as y,b1 as g,b4 as I,b8 as N,k,a as o,R as S,F as E,v as q}from"./app.3aad4e87.js";import{P as T}from"./PageTitle.30585599.js";import{u as C}from"./useSearch.9125f7ac.js";import{h as w}from"./errorHandlers.e584f717.js";import{S as r,A as P}from"./Section.ca4a4777.js";import{D as _}from"./index.d9a9a89c.js";import{E as m,S as F}from"./index.fe1d2ba1.js";import{T as t}from"./index.eef0efef.js";import{T as d}from"./Table.611ad66a.js";import{C as v}from"./CheckOutlined.241343e2.js";import{C as A,T as h}from"./index.05831a02.js";import{I as R}from"./index.3e4aed6b.js";import"./index.39d1b77e.js";import"./styleChecker.8ba932ef.js";import"./index.28850fea.js";import"./index.c383cf70.js";function Y({productData:i}){return u(r,{className:"w-full",title:"\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0645\u0646\u062A\u062C",children:u("div",{className:"flex justify-center items-center",children:i?u(_,{className:"w-full",bordered:!0,children:B(i).map(({label:a,value:n})=>u(_.Item,{label:a,children:n},a))}):u(m,{image:m.PRESENTED_IMAGE_SIMPLE})})})}const B=i=>[{label:"\u0627\u0644\u0627\u0633\u0645",value:i.name},{label:"\u0627\u0644\u0643\u0648\u062F",value:i.barcode},{label:"\u0627\u0644\u062D\u062F \u0627\u0644\u0627\u062F\u0646\u0649",value:i.minimum_stock},{label:"\u0627\u062E\u0631 \u0633\u0639\u0631 \u0634\u0631\u0627\u0621",value:u(t,{className:"text-lg",color:"volcano",children:i.last_buying_price})},{label:"\u0633\u0639\u0631 \u0627\u0644\u0628\u064A\u0639",value:u(t,{className:"text-lg",color:"green",children:i.selling_price})},{label:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0629",value:i.has_expire_date},{label:"\u0627\u0644\u0648\u062D\u062F\u0629",value:i.unit},{label:"\u0627\u0644\u0645\u062C\u0645\u0648\u0639\u0629",value:i.product_group.name},{label:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0627\u0646\u0634\u0627\u0621",value:p(i.created_at).format("DD / MM / YYYY")},{label:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062A\u0639\u062F\u064A\u0644",value:p(i.updated_at).format("DD / MM / YYYY")}];function M({productData:i}){const a=[{title:"\u0627\u0644\u0645\u062E\u0632\u0646",dataIndex:"stock",key:"stock"},{title:"\u0627\u0644\u0643\u0645\u064A\u0629",dataIndex:"quantity",key:"quantity",render:e=>u(t,{className:"text-lg border-none",color:"blue",children:e})},{title:"\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621",dataIndex:"price",key:"price",render:e=>u(t,{className:"text-lg",color:"volcano",children:e})}],n=i==null?void 0:i.boxes.flatMap(e=>e.stock_items.map(l=>({key:l.id,id:l.stock.id,stock:l.stock.name,quantity:l.quantity,price:e.buying_price})));return u(r,{className:"w-1/2",title:"\u0627\u0644\u0643\u0645\u064A\u0627\u062A \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629 \u0628\u0627\u0644\u0645\u062E\u0627\u0632\u0646",children:u(d,{columns:a,dataSource:n})})}const{Text:$,Link:L}=h;function O({productData:i}){const a=[{title:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629",dataIndex:"invoice_id",key:"invoice_id",render:e=>u($,{copyable:{icon:[u(A,{className:"mx-4"},"copy-icon"),u(v,{className:"mx-4"},"copied-icon")]},className:"",children:e})},{title:"\u0627\u0644\u0643\u0645\u064A\u0629",dataIndex:"quantity",key:"quantity",render:e=>u(t,{className:"text-lg border-none",color:"blue",children:e})},{title:"\u0633\u0639\u0631 \u0627\u0644\u0628\u064A\u0639",dataIndex:"price",key:"price",render:e=>u(t,{className:"text-lg",color:"green",children:e})},{title:"\u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629",dataIndex:"invoice_id",key:"invoice",render:e=>u(L,{href:b.BASE_ROUTE+`/${e}`,children:u(y,{children:"\u0639\u0631\u0636 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"})})}],n=i==null?void 0:i.sellingInvoicesItems.map(e=>({key:e.id,invoice_id:e.selling_invoice_id,quantity:e.quantity,price:e.selling_price}));return u(r,{className:"w-1/2",title:"\u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0628\u064A\u0639",children:u(d,{columns:a,dataSource:n})})}const{Text:j,Link:U}=h;function G({productData:i}){const a=[{title:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629",dataIndex:"invoice_id",key:"invoice_id",render:e=>u(j,{copyable:{icon:[u(A,{className:"mx-4"},"copy-icon"),u(v,{className:"mx-4"},"copied-icon")]},className:"",children:e})},{title:"\u0627\u0644\u0643\u0645\u064A\u0629",dataIndex:"quantity",key:"quantity",render:e=>u(t,{className:"text-lg border-none",color:"blue",children:e})},{title:"\u0633\u0639\u0631 \u0627\u0644\u0645\u0631\u062A\u062C\u0639",dataIndex:"price",key:"price",render:e=>u(t,{className:"text-lg",color:"red",children:e})},{title:"\u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629",dataIndex:"invoice_id",key:"invoice",render:e=>u(U,{href:g.BASE_ROUTE+`/${e}`,children:u(y,{children:"\u0639\u0631\u0636 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"})})}],n=i==null?void 0:i.returnSellingInvoicesItems.map(e=>({key:e.id,invoice_id:e.return_selling_invoice_id,quantity:e.quantity,price:e.return_price}));return u(r,{className:"w-1/2",title:"\u0641\u0648\u0627\u062A\u064A\u0631 \u0645\u0631\u062A\u062C\u0639 \u0627\u0644\u0628\u064A\u0639",children:u(d,{columns:a,dataSource:n})})}const{Text:V,Link:Q}=h;function z({productData:i}){const a=[{title:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629",dataIndex:"invoice_id",key:"invoice_id",render:e=>u(V,{copyable:{icon:[u(A,{className:"mx-4"},"copy-icon"),u(v,{className:"mx-4"},"copied-icon")]},className:"",children:e})},{title:"\u0627\u0644\u0643\u0645\u064A\u0629",dataIndex:"quantity",key:"quantity",render:e=>u(t,{className:"text-lg border-none",color:"blue",children:e})},{title:"\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621",dataIndex:"price",key:"price",render:e=>u(t,{className:"text-lg",color:"red",children:e})},{title:"\u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629",dataIndex:"invoice_id",key:"invoice",render:e=>u(Q,{href:I.BASE_ROUTE+`/${e}`,children:u(y,{children:"\u0639\u0631\u0636 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"})})}],n=i==null?void 0:i.buyingInvoicesItems.map(e=>{var l;return{key:e.id,invoice_id:e.buying_invoice_id,quantity:e.quantity,price:(l=i.boxes.find(s=>s.id==e.box_id))==null?void 0:l.buying_price}});return u(r,{className:"w-1/2",title:"\u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0634\u0631\u0627\u0621",children:u(d,{columns:a,dataSource:n})})}const{Text:H,Link:J}=h;function K({productData:i}){const a=[{title:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629",dataIndex:"invoice_id",key:"invoice_id",render:e=>u(H,{copyable:{icon:[u(A,{className:"mx-4"},"copy-icon"),u(v,{className:"mx-4"},"copied-icon")]},className:"",children:e})},{title:"\u0627\u0644\u0643\u0645\u064A\u0629",dataIndex:"quantity",key:"quantity",render:e=>u(t,{className:"text-lg border-none",color:"blue",children:e})},{title:"\u0633\u0639\u0631 \u0627\u0644\u0634\u0631\u0627\u0621",dataIndex:"price",key:"price",render:e=>u(t,{className:"text-lg",color:"red",children:e})},{title:"\u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629",dataIndex:"invoice_id",key:"invoice",render:e=>u(J,{href:g.BASE_ROUTE+`/${e}`,children:u(y,{children:"\u0639\u0631\u0636 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"})})}],n=i==null?void 0:i.returnBuyingInvoicesItems.map(e=>({key:e.id,invoice_id:e.return_buying_invoice_id,quantity:e.quantity,price:e.return_price}));return u(r,{className:"w-1/2",title:"\u0641\u0648\u0627\u062A\u064A\u0631 \u0645\u0631\u062A\u062C\u0639 \u0627\u0644\u0634\u0631\u0627\u0621",children:u(d,{columns:a,dataSource:n})})}function mu(){const i=C(),{productData:a}=N().props;console.log(a);const[n,e]=k.useState(a),l=()=>{q.Inertia.reload({data:{...i.data},only:["productData"],preserveState:!0,onSuccess:c=>{let x=c.props.productData;w(x)||(console.log(x),e(x))}})},s=n==null?void 0:n.buyingInvoicesItems.map(c=>({day:p(c.created_at).format("DD / MM / YYYY"),quantity:c.quantity})),f={data:s!=null?s:[],xField:"day",yField:"quantity",xAxis:{tickCount:5},animation:!1,slider:{start:.1,end:.9,trendCfg:{isArea:!0}}};return o(S,{gutter:[0,25],className:"m-8",children:[u(T,{name:"\u0639\u0631\u0636 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0646\u062A\u062C"}),u("div",{className:"isolate-2 border border-indigo-400 w-full",children:u(R,{id:"search_product",allowClear:!0,addonBefore:u(F,{defaultValue:i.data.attribute,onChange:i.changeSearchAttribute,options:[{label:"\u0627\u0644\u0627\u0633\u0645",value:"name"},{label:"\u0627\u0644\u0643\u0648\u062F",value:"barcode"}]}),placeholder:"\u0627\u0644\u0645\u0646\u062A\u062C",className:"placeholder:font-tajawal",value:i.data.value,onChange:c=>{i.changeSearchValue(c.target.value)},onPressEnter:l})}),u(Y,{productData:n}),o("div",{className:"flex items-start w-full gap-8",children:[u(M,{productData:n}),u(r,{className:"w-1/2",title:"\u0645\u0639\u062F\u0644 \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A",children:n?o(E,{children:[u("div",{className:"m-24"}),u(P,{...f})]}):u(m,{image:m.PRESENTED_IMAGE_SIMPLE})})]}),o("div",{className:"flex items-start w-full gap-8",children:[u(O,{productData:n}),u(G,{productData:n})]}),o("div",{className:"flex items-start w-full gap-8",children:[u(z,{productData:n}),u(K,{productData:n})]})]})}export{mu as default};
