import{r as f,q as B,f as O,a as P}from"./app.0e9403f5.js";import{B as b,b as R}from"./button.5253f3cb.js";function d(l){return!!(l&&!!l.then)}var S=function(e){var r=f.exports.useRef(!1),s=f.exports.useRef(null),m=B(!1),v=O(m,2),h=v[0],c=v[1],a=e.close,i=function(){a==null||a.apply(void 0,arguments)};f.exports.useEffect(function(){var u=null;return e.autoFocus&&(u=setTimeout(function(){var n;(n=s.current)===null||n===void 0||n.focus()})),function(){u&&clearTimeout(u)}},[]);var x=function(n){!d(n)||(c(!0),n.then(function(){c(!1,!0),i.apply(void 0,arguments),r.current=!1},function(t){console.error(t),c(!1,!0),r.current=!1}))},C=function(n){var t=e.actionFn;if(!r.current){if(r.current=!0,!t){i();return}var o;if(e.emitEvent){if(o=t(n),e.quitOnNullishReturnValue&&!d(o)){r.current=!1,i(n);return}}else if(t.length)o=t(a),r.current=!1;else if(o=t(),!o){i();return}x(o)}},g=e.type,k=e.children,y=e.prefixCls,A=e.buttonProps;return P(b,{...R(g),onClick:C,loading:h,prefixCls:y,...A,ref:s,children:k})};const F=S;export{F as A};
